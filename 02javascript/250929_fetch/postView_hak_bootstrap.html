<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>게시물 상세보기 (모바일 최적화)</title>
    <!-- <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
      crossorigin="anonymous"
    /> -->

    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/axios/1.11.0/axios.min.js"
      integrity="sha512-h9644v03pHqrIHThkvXhB2PJ8zf5E9IyVnrSfZg8Yj8k4RsO4zldcQc4Bi9iVLUCCsqNY0b4WXVV4UB+wbWENA=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    ></script>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.8/css/bootstrap.min.css"
      integrity="sha512-2bBQCjcnw658Lho4nlXJcc6WkV/UxpE/sAokbXPxQNGqmNdQrWqtw26Ns9kFF/yG792pKR1Sx8/Y1Lf1XN4GKA=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />
    <script src="script.js"></script>

    <style>
      /* * 특히 URL이나 긴 단어들이 컨테이너를 벗어나는 것을 방지합니다.
         * Bootstrap 5에서는 word-wrap: break-word가 word-break: break-word에 포함되었습니다.
         */
      .content-body {
        word-break: break-word; /* 필수: 긴 단어 줄바꿈 처리 */
        /* 만약 원본의 줄바꿈까지 유지하고 싶다면 white-space: pre-line; 을 사용할 수 있습니다. */
      }
    </style>
  </head>
  <body>
    <div class="container mt-4 mb-5">
      <div class="row justify-content-center">
        <div class="col-12 col-lg-10">
          <h4
            class="mb-3 pb-2 border-bottom text-primary text-break"
            id="title"
          >
            이것이 게시글의 **매우 길어서 모바일에서 잘릴 수 있는 제목**입니다!
          </h4>

          <div class="card mb-3 border-light shadow-sm">
            <div class="card-body p-0">
              <ul class="list-group list-group-flush small">
                <li
                  class="list-group-item d-flex justify-content-between align-items-center bg-light py-2"
                >
                  <span class="text-muted" id="postid">NO. **123**</span>
                  <span class="badge bg-secondary">**자유 게시판**</span>
                </li>

                <li
                  class="list-group-item d-flex flex-column flex-sm-row justify-content-between py-2"
                >
                  <span class="mb-1 mb-sm-0" id="name">작성자: **홍길동**</span>
                  <a
                    href="mailto:user@example.com"
                    class="text-decoration-none text-end text-truncate small"
                    title="user@verylongemailaddress.com"
                    id="email"
                  >
                    **user@verylongemailaddress.com**
                  </a>
                </li>
              </ul>
            </div>
          </div>

          <div class="card mb-4 border-secondary">
            <div class="card-body p-3 p-md-4 content-body">
              <p class="lead" id="postbody">
                **여기에 게시글의 핵심 내용이 표시됩니다.**
                <br />
                이 텍스트는 컨테이너 너비에 맞춰 **자유롭게 줄 바꿈**됩니다.
                `word-break: break-word;` 스타일 덕분에, 띄어쓰기가 없는 아주 긴
                단어나 URL 주소(예:
                `http://verylongurlthatmightcausehorizontalscrollonmobiledevice.com/some/path/to/resource`)도
                화면을 벗어나지 않고 **강제로 줄 바꿈**됩니다.
                <br /><br />
                모바일 환경에서는 너비가 좁기 때문에, 이처럼 **유연한 텍스트
                흐름**을 유지하는 것이 사용자 경험에 매우 중요합니다.
              </p>
              <hr />
              <small class="text-muted">작성일: 2025-09-30 15:00:00</small>
            </div>
          </div>
        </div>
      </div>
    </div>
    <script>
      const url = new URL(window.location.href); // 현재 페이지의 URL
      const params = new URLSearchParams(url.search);
      const nameElm = document.getElementById("name");
      const emailElm = document.getElementById("email");
      const postBodyElm = document.getElementById("postbody");
      const titleElm = document.getElementById("title");
      const postidElm = document.getElementById("postid");

      async function getPost(idPost) {
        const res = await axios.get(
          `https://jsonplaceholder.typicode.com/posts/${idPost}`
        );
        const pd = res.data;
        console.log(res);
        console.log(pd);

        postidElm.innerText = pd.id;
        postBodyElm.innerText = pd.body;
        titleElm.innerText = pd.title;

        const u = await getUser(pd.userId);
        nameElm.innerText = u.name;
        emailElm.innerText = u.email;
      }

      getPost(params.get("id"));
    </script>
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.8/js/bootstrap.bundle.min.js"
      integrity="sha512-HvOjJrdwNpDbkGJIG2ZNqDlVqMo77qbs4Me4cah0HoDrfhrbA+8SBlZn1KrvAQw7cILLPFJvdwIgphzQmMm+Pw=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    ></script>
  </body>
</html>
