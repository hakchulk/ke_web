<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.8/css/bootstrap.min.css"
      integrity="sha512-2bBQCjcnw658Lho4nlXJcc6WkV/UxpE/sAokbXPxQNGqmNdQrWqtw26Ns9kFF/yG792pKR1Sx8/Y1Lf1XN4GKA=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />

    <style>
      ul,
      li {
        list-style: none;
      }
    </style>
    <script src="script.js"></script>
  </head>
  <body>
    <div class="container py-3">
      <h3>블로그리스트</h3>
      <hr />
      <ul class="viewlist">
        <li class="d-flex flex-column flex-md-row justify-content-between">
          <div class="d-flex gap-2">
            <div>1</div>
            <div>제목</div>
          </div>
          <div class="d-flex align-self-end gap-2">
            <div>이름</div>
            <div>hak@gmail.com</div>
          </div>
        </li>
        <li><hr /></li>
      </ul>

      <div class="d-flex justify-content-end">
        <div class="btn btn-primary">글쓰기</div>
      </div>
    </div>
    <script>
      const vlist = document.querySelector(".viewlist");
      /* users
{
  "id": 1,
  "name": "Leanne Graham",
  "username": "Bret",
  "email": "Sincere@april.biz",
  "address": {
    "street": "Kulas Light",
    "suite": "Apt. 556",
    "city": "Gwenborough",
    "zipcode": "92998-3874",
    "geo": {
      "lat": "-37.3159",
      "lng": "81.1496"
    }
  },
  "phone": "1-770-736-8031 x56442",
  "website": "hildegard.org",
  "company": {
    "name": "Romaguera-Crona",
    "catchPhrase": "Multi-layered client-server neural-net",
    "bs": "harness real-time e-markets"
  }
} */

      async function fn1(limit) {
        //[
        //   {
        //     "userId": 1,
        //     "id": 1,
        //     "title": "sunt aut facere repellat provident occaecati excepturi optio reprehenderit",
        //     "body": "quia et suscipit\nsuscipit recusandae consequuntur expedita et cum\nreprehenderit molestiae ut ut quas totam\nnostrum rerum est autem sunt rem eveniet architecto"
        //   },...
        let size = 5;
        let st = limit;
        let et = limit + size;
        const res = await fetch(
          "https://jsonplaceholder.typicode.com/posts?_sort=id&_order=desc"
        );
        const data = await res.json();
        console.log("data.length:" + data.length);
        let s = "";
        for (let i = st; i < et; i++) {
          const p = data[i];
          const u = await getUser(p.userId);
          //   console.log("userId:" + u.id);
          //   console.log("이름:" + u.name);
          //   console.log("제목:" + p.title);
          //   console.log("email:" + u.email);
          //   console.log("-----------------------------");
          s += `
        <li class="d-flex flex-column flex-md-row justify-content-between">
          <div class="d-flex gap-2">
            <div>${p.id}</div>
            <div> <a href="postView_hak_bootstrap.html?id=${p.id}&${u.name}"> ${p.title} </a></div>
          </div>
          <div class="d-flex align-self-end gap-2">
            <div>${u.name}</div>
            <div>${u.email}</div>
          </div>
        </li>`;
        }
        vlist.innerHTML = s;
        //vlist.innerText = "test";
      }

      fn1(0);
    </script>
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.8/js/bootstrap.bundle.min.js"
      integrity="sha512-HvOjJrdwNpDbkGJIG2ZNqDlVqMo77qbs4Me4cah0HoDrfhrbA+8SBlZn1KrvAQw7cILLPFJvdwIgphzQmMm+Pw=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    ></script>
  </body>
</html>
